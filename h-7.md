# h6 Hash

Kone millä tein harjoituksen:

AMD Ryzen 2600X Six-Core Processor 3.6 ghz  

16gb RAM  

Windows 10 Pro 64-bit käyttöjärjestelmä  

Oracle VM VirtualBox Manager

##

Läksy löytyy sivulta:  

https://terokarvinen.com/2023/eettinen-hakkerointi-2023/  

## 

## x) Lue/katso/kuuntele ja tiivistä  

Karvinen 2022: Cracking Passwords with Hashcat  

https://terokarvinen.com/2022/cracking-passwords-with-hashcat/  

Artikkellissa kerrotaan miten salasanoja kräkätään Hashcat ohjelman avulla.  

- Salasanat muutetaan järjeslmissä hasheiksi esim  "fsd0fsdfwe09890e8f90we8f90" ja hashing avulla ne muutetaan takaisin normaaliin salasana muotoon "password123"
- Hashcat ohjelmat asennus `sudo apt-get -y install hashid hashcat wget`
- Ladataan salasana wordlisti esim "rockyou": `wget https://github.com/danielmiessler/SecLists/raw/master/Passwords/Leaked-Databases/rockyou.txt.tar.gz` `tar xf rockyou.txt.tar.gz`
- Hashcat tarvitsee tietää minkä tyyppisen hashin kräkätä, se selvitetetään hashid avulla, `$ hashid -m fsd0fsdfwe09890e8f90we8f90`
- Hashid:n kräkkääminen: `Hashcat -m 0 'fsd0fsdfwe09890e8f90we8f90' rockyout.txt -o solved`  -> solved tiedostosta löytyy salassana `cat solved`, voi myös laittaa tiedoston sijasta perään `--show`

Karvinen 2023: Crack File Password With John  

https://terokarvinen.com/2023/crack-file-password-with-john/  

Artikkellissa kerrotaan miten salasanoja käräkätään Password With John ohjelman avulla  

- Asennuksen alustasta tarvittavat: `$ sudo apt-get -y install micro bash-completion git build-essential libssl-dev zlib1g zlib1g-dev zlib-gst libbz2-1.0 libbz2-dev atool zip wget`
- Ladataan John The Ripper ohjelma Git-reposta `$ git clone --depth=1 https://github.com/openwall/john.git`
- Asennusta ennen pitää complile koska ohjelma kirjoitettu C:llä: ` $ cd john/src/` `$ ./configure` `$ make -s clean && make -sj4`
- jos listataan `$ cd ../run/` `$ ls -1` löytää kaikki eri formaatit mitä Johnilla voidaan kräkätä esim 'zip2john' Zip tiedostoihi
- Kräkkääminen: `$ $HOME/john/run/zip2john esimerkki.zip >esimerkki.zip.hash` -> `$ $HOME/john/run/john esimerkki.zip.hash`  

##  a) Hashcat. Asenna Hashcat ja testaa sen toimivuus ratkaisemalla tiiviste.  

Testaan tekemällä Teron artikkelin https://terokarvinen.com/2022/cracking-passwords-with-hashcat/  esimerkki.  

`sudo apt-get update`  
`sudo apt-get -y install hashid hashcat wget` _> Hashid ja Hashcat asennus  

Luodaan uusi kansio: 

`mkdir hash`  

Ladataan salasana wordlisti esim "rockyou": `wget https://github.com/danielmiessler/SecLists/raw/master/Passwords/Leaked-Databases/rockyou.txt.tar.gz` `tar xf rockyou.txt.tar.gz`  

##  

![image](https://github.com/aarott/pentest23/assets/78908566/6e53f60e-13c6-4d02-96b0-274fcc696824)  

##  

Teron artikkelissa on esimerkkinä hashid "6b1628b016dff46e6fa35684be6acc96"  -> katsotaan minkä tyyppinen se on `$ hashid -m 6b1628b016dff46e6fa35684be6acc96` 

## 

![image](https://github.com/aarott/pentest23/assets/78908566/eb9715f4-d6cf-484b-a12f-60c3e928beda)  

## 

Käytetään MD5 eli annetaan komennossa -m 0 arvoksi.  

hashcat = käytetty kräkkäy-ohjelma  
-m 0 = numero mikä saatiin hashid:stä   
'6b1628b016dff46e6fa35684be6acc96' = hashin arvo  
-o solved = tallentaa solved tiedostoksi 

`$ hashcat -m 0 '6b1628b016dff46e6fa35684be6acc96' rockyou.txt -o solved`   
`$ cat solved` näyttää salasanan joka on tässä tapauksessa "summer"  

## 

![image](https://github.com/aarott/pentest23/assets/78908566/d295f6e3-b333-4b66-83fc-045bfb8ce5d3)  


## 

Kräkkäämisessä meni n.30sekunttia, ei paha mutta huomattavasti nopeemmin olisi varmasti mennyt käyttäen näytönohjainta ilman virtuaalisointiympäristöä.  

