# h4 Totally Legit Sertificate

Kone millä tein harjoituksen:

AMD Ryzen 2600X Six-Core Processor 3.6 ghz  

16gb RAM  

Windows 10 Pro 64-bit käyttöjärjestelmä  

Oracle VM VirtualBox Manager

##

Läksy löytyy sivulta:  

https://terokarvinen.com/2023/eettinen-hakkerointi-2023/  

## x) Lue ja tiivistä  

https://owasp.org/Top10/A01_2021-Broken_Access_Control/ A01:2021 – Broken Access Control  

- access control tarkoittaa että käyttäjät eivät voi toimia omien käyttöoikeuksien ulkopuolella  
- kun access control pettää se voi johtaa tiedon väärinkäyttöön  

Esimerkkejä broken access controllista: 

- käyttöoikeuksien hallinnan väärinkäyttö  
- URL parametrien muokkaus (force browsing)  
- API:n käyttäminen POST,PUT,DELETE toiminnoilla jotka ei ole sallittuja  
- Metadata manipulaatio  
- Toisena käyttäjänä tai adminina esiintyminen  

Miten voidaan estää: 
  
- tarkat käyttöoikeuksien määritelmät  
- käyttöoikeuksia ei pysty muokkaamaan helposti  
- Domain mallinnuksella voidaan rajata pääsy tiettyihin rajoihin  
- Käyttöoikeuksien logittaminen ja ilmoitus adminille  
- Web server directory ja metadatan poistaminen rootista  
- API / Controller access rajoittaminen automaattisen hyökkäyksen suojautumiseksi

##

https://owasp.org/Top10/A10_2021-Server-Side_Request_Forgery_%28SSRF%29/  A10:2021 – Server-Side Request Forgery (SSRF)  

- SSRF tapahtuu kun webbiapplikatio hakee etäresursseja ilman että validoi käyttäjän antamaa URL-osoitetta  
- voi tapahtua vaikka käytössä on palomuuri tai VPN   

Esimerkkejä:   
  
- sisäisten servereiden porttiskannaus  
- sensitiiviseen dataan pääsy sisäisessä verkossa (localhost)  
- metadatan pääsy pilvipalveluissa  
- sisäisten järjestelmien haavoittaminen (DOS), (RCE)

##


https://portswigger.net/web-security/access-control  
  
- access controll on käyttäjien ja käyttöoikeuksien hallintaa  
- vertical access control: eri käyttäjillä eiri oikeudet eri applikaation funktioihin  
- horizontal access control: käyttäjillä on pääsy vaan tiettyjen käyttäjien resursseihin (omiin yleensä), hyökkäys esim IDOR (insercure object reference)  
- context- dependent access controls:  estää käyttäjien tekemästä toimenpiteitä väärässä järjestyksessä  

##  

https://portswigger.net/web-security/server-side-template-injection  
  
- tapahtuu kun hyökkääjä pääsee käyttämäään natiivia template syntaxia laittaakseen ilkeämielisen payloadin mikä suoritetaan palvelimen puolella  
- tapahtuu kun käyttäjän inputti laitetaan suoraan templateen, eikä datana  
- vaarallisempaa kuin käyttäjäpuoleinen injektio, koska tapahtuu palvelimen puolella  

##  
  
https://portswigger.net/web-security/ssrf  


-SSRF (server-side request forgery) tapahtuu kun hyökkääjä pääsee tekemään palvelimen puolella toimivasta applikaatiosta pyynnön paikasta mihin ei tulisi olla pääsyä
- saattaa pystyä saamaan palvelimen yhdistämään ulkopuolisiin haittalisiin järjestelmiin    

##  

https://portswigger.net/web-security/cross-site-scripting  
  
- tapahtuu kun hyökkääjäällä on mahdollisuus päästä vaarantamaan käyttäjien tavallisen interaktiot jonku applikaation kanssa  
- hyökkääjä pystyy manipuloimaan nettisivua niin, että se lähettää ilkeämielistä Javascript koodia käyttäjille, kun käyttäjä ajaa tämän koodin se antaa pääsyn hyökkääjälle vaikuttamaan applikaation interaktioon  
- suurin osa XSS hyökkäyksistä pystyy löytämään Burp Suiten web vulnerability scannerilla  
- voidaan estää filtteröimällä syötettyä dataa, koodamaalla outputin dataa, käyttämällä oikeanlaisia response headereita, content security policeilla  
  
Kolme eri tyyppistä XSS hyökkäystä:  
  
- Reflected XSS, kun ilkeämielinen scripti tulee HTTP requestillä  
- Stored XSS, kun ilkeämielinen scripti tulee nettisivun tietokannasta    
- DOM-based XSS, kun haavoittuvuus on käyttäjän puolella, sen sijaan että se olisi palvelimella

##

https://terokarvinen.com/2023/webgoat-2023-4-ethical-web-hacking/  

Ohjeet WebGoat 2023.4 asennukseen:  

- Javan ja palomuurin asennus (`$ sudo apt-get install openjdk-17-jre`) ; (`$ sudo apt-get install ufw` ; `$ sudo ufw enable`)
- JAR tiedoston lataus Webgoatin Github sivustolta (`$ wget https://github.com/WebGoat/WebGoat/releases/download/v2023.4/webgoat-2023.4.jar`)  
- Webgoat portin muuttaminen, että se ei ole sama kuin esim OWAS ZAP, `($ java -Dfile.encoding=UTF-8 -Dwebgoat.port=8888 -Dwebwolf.port=9090 -jar webgoat-2023.4.jar`)  
- Webgoatin URL ja admin salasana löytyy standard outputilta  
- Testaa menemällä sivulle http://127.0.0.1:8888/WebGoat  



